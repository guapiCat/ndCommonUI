import{_ as I,r as m,o as c,i as y,R as A,w as g,d as C,m as V,f as d,c as f,F as k,e as F,k as S,N as p,G as x,O,s as N,x as q,W as h,S as _,t as B,l as T,E as w}from"./app-df2347b2.js";const z={props:{clickFn:{type:Function,default:null,required:!1},label:{type:[String,Number],default:"",required:!0},icon:{type:String,default:"",required:!1},urlActive:{type:String,default:"",required:!1},urlInactive:{type:String,default:"",required:!1}},setup(e,{slots:l,attrs:a}){return{slots:l,clickItem:()=>{e.clickFn&&e.clickFn()}}}},j=["src"];function E(e,l,a,t,v,s){const o=m("van-tabbar-item");return c(),y(o,p({class:"comp-tabbar-item"},e.$attrs,O(e.$attrs),{icon:a.icon,onClick:x(t.clickItem,["stop"])}),A({default:g(()=>[t.slots?V(e.$slots,"default",{key:0},void 0,!0):d("v-if",!0),t.slots?(c(),f(k,{key:1},[F(S(a.label),1)],64)):d("v-if",!0)]),_:2},[a.urlActive&&t.slots?{name:"icon",fn:g(u=>[C("img",{class:"icon-img",src:u.active?a.urlActive:a.urlInactive},null,8,j)]),key:"0"}:void 0]),1040,["icon","onClick"])}const M=I(z,[["render",E],["__scopeId","data-v-235e7ac2"],["__file","nd-tabbar-item.vue"]]);const R={props:{modelValue:{type:[String,Number],default:0},tabs:{type:[Array,Object],required:!0,default:()=>[{label:"首页",icon:"wap-home-o",urlActive:"",urlInactive:"",options:{badge:"",dot:"",url:"",route:"",replace:!1}}]},clickFn:{type:Function,default:null},fixed:{type:Boolean,default:!0},placeholder:{type:Boolean,default:!1},zIndex:{type:[String,Number],default:1},"active-color":{type:String,default:"#1989fa"},"inactive-color":{type:String,default:"#7d7e80"}},components:{ndAppTabbarItem:M},emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const t=N({currentTab:0});q(()=>{t.currentTab=Number(Object.keys(e.tabs)[0]),l("update:modelValue",t.currentTab)}),h(()=>e.modelValue,()=>{t.currentTab=e.modelValue},{deep:!0,immediate:!0}),h(()=>t.currentTab,()=>{l("update:modelValue",t.currentTab)},{deep:!0,immediate:!0});const v=(r,i)=>{t.currentTab=i,l("update:modelValue",i),e.clickFn&&e.clickFn(r,i)};let s=r=>{let i=/^([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;return e[r]&&e[r].includes("#")&&!i.test(e[r])?e[r]:`#${e[r]}`};const o=_(()=>s("active-color")),u=_(()=>s("inactive-color")),n=_(()=>Object.keys(e.tabs).length>5),b=r=>{l("update:modelValue",100),l("change",r,t.currentTab)};return t.currentTab=e.modelValue,{...B(t),activeColor:o,tabChange:b,clickItem:v,countOver:n,inactiveColor:u}}};function W(e,l,a,t,v,s){const o=m("nd-app-tabbar-item"),u=m("van-tabbar");return c(),y(u,p({ref:"compTabbar"},e.$attrs,{class:{"comp-tabbar":!0,"over-count":t.countOver},modelValue:e.currentTab,"onUpdate:modelValue":l[0]||(l[0]=n=>e.currentTab=n),fixed:a.fixed,placeholder:a.placeholder,"z-index":a.zIndex,"active-color":t.activeColor,"inactive-color":t.inactiveColor,onChange:t.tabChange}),{default:g(()=>[C("div",{class:T({"tabbar-content":!0,"fit-content":t.countOver})},[(c(!0),f(k,null,w(a.tabs,(n,b)=>(c(),f(k,{key:b},[n.slot?d("v-if",!0):(c(),y(o,p({key:0},e.$attrs,{label:n.label,icon:n.icon,urlActive:n.urlActive,urlInactive:n.urlInactive,class:{"tabbar-item":!0,"over-count-item":t.countOver}}),null,16,["label","icon","urlActive","urlInactive","class"])),n.slot?(c(),f("div",{key:1,class:T({"over-count-item":t.countOver}),style:{display:"flex"}},[d(" 传入slot, 将作为具名插槽使用 "),V(e.$slots,n.slot,{item:n,id:b},void 0,!0)],2)):d("v-if",!0)],64))),128))],2)]),_:3},16,["class","modelValue","fixed","placeholder","z-index","active-color","inactive-color","onChange"])}const H=I(R,[["render",W],["__scopeId","data-v-c14b2282"],["__file","nd-tabbar.vue"]]);export{M as a,H as n};
