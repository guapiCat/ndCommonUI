import{_ as m,t as f,g as i,h as p,o as _,i as g,d as c,b as v,w,j as y,l as d,k as C,v as M,T as b,p as h,C as D}from"./app-df2347b2.js";const N={modelValue:{type:Boolean,default:!1},type:{type:String,default:"default",required:!1,validator(a){return["info","error","warning","success"].includes(a)}},message:{type:String,default:"消息提示"},duration:{type:Number,default:2e3},onClose:{type:Function,default:()=>{}}};const V={name:"ndMessage",setup(a){const{duration:o,onClose:l,modelValue:e,message:u,type:s}=f(a),t=i(!1),r=i(""),n=()=>{r.value={success:s.value==="success",warning:s.value==="warning",info:s.value==="info",error:s.value==="error"}};return p(()=>{t.value=e.value,n()}),setTimeout(()=>{t.value=!1,setTimeout(()=>{l.value()},200)},o.value),{localValue:t,message:u,className:r}},props:N},x={class:"newDimMessageContainer"},B={class:"messageContent"};function S(a,o,l,e,u,s){return _(),g(h,{to:".newDimMessageParent"},[c("div",x,[v(b,{name:"fade",persisted:""},{default:w(()=>[y(c("div",{class:d(["newDimMessageContent",e.className])},[c("i",{class:d([e.className,"MessageContentIcon"])},null,2),c("div",B,C(e.message),1)],2),[[M,e.localValue]])]),_:1})])])}const T=m(V,[["render",S],["__scopeId","data-v-146fbfb5"],["__file","ndMessage.vue"]]);function A({message:a,duration:o,single:l=!0,type:e="info"}){return new Promise((u,s)=>{if(l&&document.querySelectorAll(".newDimMessageParent").length){s("已经有dom消息提示了");return}const t=D(T,{modelValue:!0,type:e,message:a,duration:o,onClose:()=>{r()}}),r=()=>{t.unmount(),document.body.removeChild(n)},n=document.createElement("div");n.setAttribute("class","newDimMessageParent"),document.body.appendChild(n),t.mount(n)})}export{A as n};
