import{_ as h,r as y,o as l,c as n,f as u,d as t,k as d,F as g,E as L,n as b,b as f,l as x,M,s as S,g as T,Z as k,j as I}from"./app-df2347b2.js";const R={key:0,class:"record-default"},w=["src"],C={class:"default-text"},D={class:"record-list"},N=["onClick"],z={class:"record-name"},E={class:"record-data"},B={class:"record-extension"},U={class:"record-size"},$={style:{height:"32px","line-height":"32px","text-align":"center",color:"#666"}},V={name:"nd-model-record"},j=Object.assign(V,{props:{emptyImg:{type:String,default:""},emptyTips:{type:String,default:"暂无记录，快去打开3D/2D文件~"},recordList:{type:Array,default:()=>[]},total:{type:Number,default:0}},emits:["recordTap","loadMore"],setup(s,{emit:e}){const a=s,i=r=>{e("recordTap",r)},_=()=>{M(()=>{let r=document.getElementsByClassName("nd-record-box")[0];r.scrollHeight-r.scrollTop-r.clientHeight<=0&&a.recordList.length<a.total&&(console.log("bottom"),e("loadMore"))})};return(r,c)=>{const m=y("el-image");return l(),n("div",{class:"nd-record-box",onScroll:_},[u(" 无数据 "),s.recordList.length===0?(l(),n("div",R,[t("img",{src:s.emptyImg,alt:"",class:"default-img"},null,8,w),t("p",C,d(s.emptyTips),1)])):(l(),n(g,{key:1},[u(" 有数据 "),t("div",null,[t("div",D,[(l(!0),n(g,null,L(s.recordList,(o,v)=>(l(),n("div",{class:"record-cell",style:b(o.convertStatus!=0&&o.convertStatus!=1&&o.convertStatus!=2?"opacity: 0.4; cursor:no-drop":""),key:v,onClick:p=>i(o)},[f(m,{lazy:"",src:o.thumbnailImgURL?o.thumbnailImgURL:o.typeImgSrc,onerror:p=>{p.srcElement.src="/images/fileType/default.png",p.srcElement.onerror=null},alt:"",class:x(o.thumbnailImgURL?"record-preview":"record-typepreview")},null,8,["src","onerror","class"]),t("p",z,d(o.modelName),1),t("div",E,[t("span",B,d(o.extension),1),t("span",U,d(o.fileSize),1)])],12,N))),128))]),t("div",$,d(s.total>s.recordList.length?"滚动加载更多...":"到底了..."),1)])],2112))],32)}}}),F=h(j,[["__scopeId","data-v-eee090ab"],["__file","nd-model-record.vue"]]);const H={class:"record-box"},A={__name:"ndModelRecord",setup(s){const e=S({recordList:[],total:55,page:1,rows:10}),a=T(!1),i=()=>{for(let c=(e.page-1)*e.rows;c<e.page*e.rows;c++)e.recordList.length<e.total&&e.recordList.push({convertStatus:c%9==0?5:2,extension:".stp",fileSize:"6.49M",modelCode:4579650710273,modelName:"模型"+c,thumbnailImgURL:"https://img1.baidu.com/it/u=3867310887,3679104461&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500",typeImgSrc:"/images/fileType/Step.png",updateTime:"2023-03-24T17:38:30"})};i();const _=c=>{console.log(111)},r=()=>{console.log(111),a.value=!0,setTimeout(()=>{e.page++,i(),a.value=!1},1e3)};return(c,m)=>{const o=k("loading");return I((l(),n("div",H,[f(F,{emptyImg:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",recordList:e.recordList,total:e.total,canLoadMore:e.canLoadMore,onRecordTap:_,onLoadMore:r},null,8,["recordList","total","canLoadMore"])])),[[o,a.value]])}}},J=h(A,[["__scopeId","data-v-11a5917d"],["__file","ndModelRecord.vue"]]);export{J as default};
