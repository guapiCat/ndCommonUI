import{n as h}from"./nd-select-e78af673.js";import{_,s as v,g as u,W as b,h as w,t as y,r as k,o as g,c as D,b as B,w as S,d as s,k as f,j as p,v as V,B as C,f as x,i as M}from"./app-df2347b2.js";const N={components:{ndSelect:h},emit:["update:modelValue","choose"],props:{modelValue:{type:[Number,String],default:""},options:{type:[Object,Array],default:()=>[]},tipInfo:{type:String,default:"如以下选项没有您的选择，请继续输入更多文字查找"},prop:{type:Object,default:()=>({id:"id",label:"label"})},remoteMethod:{type:Function,default:()=>[]},formTitle:{type:[Number,String],default:"请输入名称"},formPlaceholder:{type:String,defualt:"请输入"},inputMax:{type:Number,default:25},loading:{type:Boolean,default:!1}},setup(t,{emit:l}){const e=v({arr:[],newitem:"",showDialog:!1,keyword:"",query:""}),a=u(null),c=(d,r)=>{if(r[t.prop.id]==-1)return d.stopPropagation(),!1;if(a.value.select.blur(),r[t.prop.id]==0)return e.showDialog=!0,e.newitem="",!1;e.keyword=r[t.prop.id],e.query=r[t.prop.label],l("choose",r)},i=()=>e.arr=[{[t.prop.id]:-1,[t.prop.label]:t.tipInfo},...t.options,{[t.prop.id]:0,[t.prop.label]:"其他"}],n=d=>{(d.length>3||d.length==0)&&t.remoteMethod(d||e.query)},o=()=>{e.query=e.newitem,e.keyword=e.newitem,e.showDialog=!1,l("choose",{[t.prop.id]:"",[t.prop.label]:e.newitem})};return b(()=>t.options,()=>{e.loading=!1,i()},{deep:!0,immediate:!0}),w(()=>{i()}),{...y(e),select:a,chooseData:c,formatData:i,confirm:o,getData:n}}},T={class:"nd-pc-select-newitem"},j=["onClick"],I={class:"form-dialog"},P={class:"content"},O=["placeholder","maxlength"],U={class:"btn"};function q(t,l,e,a,c,i){const n=k("nd-select");return g(),D("section",T,[B(n,{"remote-show-suffix":"",teleported:!1,loading:e.loading,"popper-class":"nd-pc-select-newitem-popper",remote:"","reserve-keyword":"",filterable:"",ref:"select",options:t.arr,modelValue:t.keyword,"onUpdate:modelValue":l[0]||(l[0]=o=>t.keyword=o),modelModifiers:{trim:!0},prop:{value:e.prop.id,label:e.prop.label},"remote-method":a.getData},{default:S(o=>[s("div",{onClick:m=>a.chooseData(m,o.item)},f(o.item[e.prop.label]),9,j)]),_:1},8,["loading","options","modelValue","prop","remote-method"]),p(s("div",I,[s("div",P,[s("p",null,f(e.formTitle),1),p(s("input",{"onUpdate:modelValue":l[1]||(l[1]=o=>t.newitem=o),type:"text",placeholder:e.formPlaceholder||"请输入",maxlength:e.inputMax},null,8,O),[[C,t.newitem]]),x('<div class="ts-word">请输入单位</div>')]),s("div",U,[s("span",{onClick:l[2]||(l[2]=o=>t.showDialog=!1)},"取消"),s("span",{onClick:l[3]||(l[3]=(...o)=>a.confirm&&a.confirm(...o))},"确认")])],512),[[V,t.showDialog]])])}const A=_(N,[["render",q],["__scopeId","data-v-57e16a50"],["__file","nd-select-business.vue"]]),E={__name:"ndSelectBusiness",setup(t){const l=u([{label:"上海新迪数字科技有限公司",id:1},{label:"上海新迪数字科技有限公司",id:5},{label:"上海新迪数字科技有限公司",id:6},{label:"上海新迪数字科技有限公司",id:7},{label:"杭州新迪数字科技有限公司杭州新迪数字科技有限公司",id:8},{label:"北京字节跳动科技有限公司",id:3},{label:"杭州阿里巴巴",id:4}]),e=u([]),a=u(!1),c=n=>{a.value=!0,setTimeout(()=>{e.value=n?l.value.filter(o=>o.label.includes(n)):[],a.value=!1},400)},i=n=>{console.log(n,"data")};return(n,o)=>(g(),M(A,{options:e.value,loading:a.value,"remote-method":c,onChoose:i},null,8,["options","loading"]))}},W=_(E,[["__file","ndSelectBusiness.vue"]]);export{W as default};
