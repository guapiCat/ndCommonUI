import{_ as Ye,t as Se,D as Le,g as T,x as Mr,r as ge,o as y,c as k,F as fe,E as he,f as b,G as M,n as dr,d as C,k as W,j as Y,v as $,b as Xe,H as de,I as fr,h as vt,i as Br,J as qr,K as yt,L as bt,e as kt,B as St,w as hr,l as gt,p as Et}from"./app-df2347b2.js";import{n as ye}from"./ndMessage-7e259a42.js";const xt=e=>!!Array.isArray(e);class Ct{constructor(){this.eventBusMap=new Map}on(r,n){this.eventBusMap.set(r,n)}all(){return this.eventBusMap}emit(r,n){const t=this.eventBusMap.get(r);t&&t(n)}off(r){this.eventBusMap.delete(r)}}const Rt=(e="",r,n,t)=>e?e.replaceAll(r,`<${n} class=${t}>${r}</${n}>`):"",wt={isExpandedKeysRoot:{type:Boolean,default:!0,required:!1},isSearchHasDepartment:{type:Boolean,default:!0,required:!1},isSavaOperation:{type:Boolean,default:!1,required:!1},selectType:{type:Number,default:0,required:!1},saveProperties:{type:Object,default(){return{deptIds:"deptIds",userIds:"userIds",roleIds:"roleIds",useDeptIds:!0,useUserIds:!0,useRoleIds:!0}}},from:{type:Number,default:0,required:!1},deptId:{type:Number,default:0,required:!1},disabledCheckedList:{type:Array,default(){return[]},required:!1},checkStrictly:{type:Boolean,default:!1,required:!1},isDefineDefaultChooseList:{type:Boolean,default:!1,required:!1},defaultChooseList:{type:Array,default(){return[]},required:!1},title:{type:String,default:"选择成员公用组件",required:!1},visible:{type:Boolean,default:!0,required:!0},isSelectRole:{type:Boolean,default:!1},treeUrl:{type:String,required:!1},treeUrlOtherParams:{type:Object,default(){return{}}},checkedListUrl:{type:String,required:!1},checkedListUrlOtherParams:{type:Object,default(){return{}}},saveUrl:{type:String,required:!1},saveUrlOtherParams:{type:Object,default(){return{}}},roleListAll:{type:Array,default(){return[]}},headers:{type:Object,required:!1,default(){return{}}},singleSelectUser:{type:Boolean,default:!1},selectUser:{type:Boolean,default:!1},selectDepartment:{type:Boolean,default:!1},selectRole:{type:Boolean,default:!1}};const Q=new Ct,He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB4CAYAAADWpl3sAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNkJERTEzMTU3MEMxMUVDQkJBN0E1RTJGQTU1Mjc2RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNkJERTEzMjU3MEMxMUVDQkJBN0E1RTJGQTU1Mjc2RiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE2QkRFMTJGNTcwQzExRUNCQkE3QTVFMkZBNTUyNzZGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE2QkRFMTMwNTcwQzExRUNCQkE3QTVFMkZBNTUyNzZGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+mvshDAAAC79JREFUeNrsXQtwXFUZ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",At={name:"ndSelectMemberTreeNode",setup(e){const{expandKeys:r,selectKeys:n}=Se(e),t=p=>{if(e.checkStrictly||!p.children||!p.children.length)return n.value.includes(p.id+""+p.type)?3:1;{const d=[];if(s(p.children,d),d.length===0)return n.value.includes(p.id+""+p.type)?3:1;let x=0;if(d.forEach(J=>{n.value.includes(J)&&x++}),x===0){if(n.value.includes(p.id+""+p.type)){const J=n.value.findIndex(A=>A===p.id+""+p.type);J>-1&&n.value.splice(J,1),Q.emit("selectKeys",n.value)}return 1}else{if(x<d.length)return 2;if(x===d.length)return n.value.includes(p.id+""+p.type)||(n.value.push(p.id+""+p.type),Q.emit("selectKeys",n.value)),3}}},s=(p,d)=>{p.forEach(x=>{x.disabled||d.push(x.id+""+x.type),x.children&&x.children.length&&s(x.children,d)})},i=Le("updateSelectKeys"),l=Le("updateExpandKeys"),o=Le("isSingleSelect",!1),{level:a}=Se(e),h=T(0);h.value=a.value+1;const E=p=>{p.type===2?r.value.includes(p.id+""+p.type)?l(p,!0):l(p,!1):p.type===1&&(n.value.includes(p.id+""+p.type)?i(p,!0):i(p,!1))};return Mr(()=>{}),{nodeClick:E,childNodeHasSelected:t,localLevel:h,updateSelectKeys:i,updateExpandKeys:l,isSingleSelect:o}},props:{data:{type:Array,default(){return[]}},level:{type:Number,default:0},checkStrictly:{type:Boolean,default:!1},expandKeys:{type:Array,default(){return[]}},selectKeys:{type:Array,default(){return[]}}}},mt=["onClick"],_t=["title"],Tt=["onClick"],Nt=["onClick"],Ot=["onClick"],Lt={key:3,class:"node-checkbox node-checkbox-no",style:{cursor:"no-drop"}},Dt={key:4,class:"node-checkbox node-checkbox-s-no",style:{cursor:"no-drop"}},Ut=["onClick"],It=["onClick"],Pt={key:7,class:"node-radiobox node-radiobox-no",style:{cursor:"no-drop"}},jt={key:8,class:"node-radiobox node-radiobox-s-no",style:{cursor:"no-drop"}},Mt=["onClick"],Bt=["onClick"],qt={key:11,class:"ico-depart"},Kt=["src"],Jt={key:13,style:{width:"16px",height:"16px","margin-right":"8px","vertical-align":"middle",display:"inline-block"},src:He},Ft=["title"],zt={style:{width:"100%"}};function Zt(e,r,n,t,s,i){const l=ge("nd-select-member-tree-node",!0);return y(),k("ul",null,[(y(!0),k(fe,null,he(n.data,(o,a)=>(y(),k("li",{key:a,class:"select",style:{"box-sizing":"border-box"}},[o.disabled?b("v-if",!0):(y(),k("a",{key:0,class:"person-node",onClick:h=>t.nodeClick(o)},[(y(!0),k(fe,null,he(n.level,(h,E)=>(y(),k("b",{key:E,title:h},null,8,_t))),128)),b("todo 复选框"),b("全选"),b('                <i class="ico-total-depart" v-if="level===0"></i>'),t.childNodeHasSelected(o)==3&&!o.disabled&&!t.isSingleSelect?(y(),k("i",{key:0,class:"node-checkbox node-checkbox-s",onClick:M(h=>t.updateSelectKeys(o),["stop"])},null,8,Tt)):b("v-if",!0),t.childNodeHasSelected(o)==1&&!o.disabled&&!t.isSingleSelect?(y(),k("i",{key:1,class:"node-checkbox",onClick:M(h=>t.updateSelectKeys(o),["stop"])},null,8,Nt)):b("v-if",!0),b("半选"),t.childNodeHasSelected(o)==2&&!o.disabled&&!t.isSingleSelect?(y(),k("i",{key:2,class:"node-checkbox halfChecked",onClick:M(h=>t.updateSelectKeys(o,"half"),["stop"])},null,8,Ot)):b("v-if",!0),b('v-if="!item.disabled&&!isSingleSelect&&childNodeHasSelected(item)===1"'),b("复选框禁用"),b("disabled:1 禁用并且不选择 2 禁用并且选择"),o.disabled==1&&!t.isSingleSelect?(y(),k("i",Lt)):b("v-if",!0),o.disabled==2&&!t.isSingleSelect?(y(),k("i",Dt)):b("v-if",!0),b("todo 单选框"),n.selectKeys.includes(o.id+""+o.type)&&!o.disabled&&t.isSingleSelect&&o.type===1?(y(),k("i",{key:5,class:"node-radiobox node-radiobox-s",onClick:M(h=>t.updateSelectKeys(o),["stop"])},null,8,Ut)):b("v-if",!0),!n.selectKeys.includes(o.id+""+o.type)&&!o.disabled&&t.isSingleSelect&&o.type===1?(y(),k("i",{key:6,class:"node-radiobox",onClick:M(h=>t.updateSelectKeys(o),["stop"])},null,8,It)):b("v-if",!0),b("单选框禁用"),b("disabled:1 禁用并且不选择 2 禁用并且选择"),o.disabled==1&&t.isSingleSelect?(y(),k("i",Pt)):b("v-if",!0),o.disabled==2&&t.isSingleSelect?(y(),k("i",jt)):b("v-if",!0),b("todo 上下箭头"),b(" &&(item.children&&item.children.length>0) "),n.expandKeys.includes(o.id+""+o.type)&&o.type===2?(y(),k("i",{key:9,class:"node-switch open",onClick:M(h=>t.updateExpandKeys(o,!0),["stop"]),style:dr({marginLeft:o.type===2&&t.isSingleSelect?"5px":0,marginRight:o.type===2&&t.isSingleSelect?"20px":""})},null,12,Mt)):b("v-if",!0),!n.expandKeys.includes(o.id+""+o.type)&&o.type===2?(y(),k("i",{key:10,class:"node-switch close",onClick:M(h=>t.updateExpandKeys(o,!1),["stop"]),style:dr({marginLeft:o.type===2&&t.isSingleSelect?"5px":0,marginRight:o.type===2&&t.isSingleSelect?"20px":""})},null,12,Bt)):b("v-if",!0),o.type===2&&!o.disabled?(y(),k("i",qt)):b("v-if",!0),b("头像"),o.type===1&&o.avatar?(y(),k("img",{key:12,style:{width:"16px",height:"16px","margin-right":"8px","vertical-align":"middle",display:"inline-block"},src:o.avatar},null,8,Kt)):b("v-if",!0),o.type===1&&!o.avatar?(y(),k("img",Jt)):b("v-if",!0),C("span",{title:o.name},W(o.name),9,Ft)],8,mt)),Y(C("ul",zt,[Xe(l,{"expand-keys":n.expandKeys,"select-keys":n.selectKeys,data:o.children,level:t.localLevel,checkStrictly:n.checkStrictly},null,8,["expand-keys","select-keys","data","level","checkStrictly"])],512),[[$,o.children&&o.children.length&&n.expandKeys.includes(o.id+""+o.type)]])]))),128))])}const Vt=Ye(At,[["render",Zt],["__file","ndSelectMemberTreeNode.vue"]]);const Gt={name:"ndSelectMemberTree",components:{ndSelectMemberTreeNode:Vt},setup(e,{emit:r}){const{defaultSelectedKeys:n,isSingleSelect:t,checkStrictly:s,data:i}=Se(e),l=T([]);l.value=n.value,Q.on("selectKeys",v=>{l.value=v.concat([])});const o=(v,g)=>{let m;if(l.value.includes(v.id+""+v.type)?m=!0:m=!1,g==="half"&&(m=!1),g==="remove"&&(m=!0),e.selectType===1)if(m){if(t.value)return;const _=l.value.findIndex(q=>q===v.id+""+v.type);l.value.splice(_,1),v.type===2&&v.children&&v.children.length&&S(v.children)}else t.value?l.value=[v.id+""+v.type]:(l.value.push(v.id+""+v.type),v.type===2&&v.children&&z(v.children));else if(m){if(t.value)l.value=[];else if(s.value){const _=l.value.findIndex(q=>q===v.id+""+v.type);console.log(_),l.value.splice(_,1)}else if(!s.value){const _=l.value.findIndex(q=>q===v.id+""+v.type);console.log(_),l.value.splice(_,1),console.log(l.value),v.children&&v.children.length&&re(v.children)}}else s.value?l.value.push(v.id+""+v.type):t.value?l.value=[v.id+""+v.type]:s.value||(a.value=[],l.value.push(v.id+""+v.type),v.children&&j(v.children),l.value=Array.from(new Set(l.value)),console.log("最后的值--",l.value));l.value=Array.from(new Set(l.value)),console.log("selectKeys--",l.value),Q.emit("selectKeys",l.value),r("check",v,m)},a=T([]);de("selectKeys",fr(l.value)),de("updateSelectKeys",o);const h=T([]),E=(v,g)=>{if(console.log("updateExpandKeys",v,g),g){const m=h.value.findIndex(_=>_===v.id+""+v.type);h.value.splice(m,1)}else h.value.push(v.id+""+v.type);console.log("expandKeys",h.value),Q.emit("expandKeys",h.value)};de("expandKeys",fr(h.value)),de("updateExpandKeys",E),de("isSingleSelect",e.isSingleSelect);const{proxy:p}=qr();console.log(p);const d=v=>{r("nodeClick",v)},x=v=>{console.log("主动调用keys",v),l.value=v,Q.emit("selectKeys",l.value)},J=()=>l.value,A=v=>{console.log("setExpandKeys",v),h.value=v,Q.emit("expandKeys",h.value)},P=T([]),B=()=>(P.value=[],F(i.value),console.error("被选中的所有节点内容",P.value),P.value),F=v=>{v.forEach(g=>{l.value.includes(g.id+""+g.type)&&(console.log("item",g),P.value.push(g)),g.children&&g.children.length&&F(g.children)})},j=v=>{v.forEach(g=>{l.value.push(g.id+""+g.type),a.value.push(g),g.children&&g.children.length&&j(g.children)})},z=v=>{v.forEach(g=>{l.value.push(g.id+""+g.type),g.children&&g.children.length&&z(g.children)})},S=v=>{v.forEach(g=>{const m=l.value.findIndex(_=>_===g.id+""+g.type);m>-1&&l.value.splice(m,1),g.children&&g.children.length&&S(g.children)})},re=v=>{v.forEach(g=>{const m=l.value.findIndex(_=>_===g.id+""+g.type);m>-1&&l.value.splice(m,1),g.children&&g.children.length&&re(g.children)})};return vt(()=>{}),{updateKeys:o,setExpandKeys:A,getCheckedKeys:J,getCheckedNodes:B,setCheckedKeys:x,nodeClick:d,expandKeys:h,selectKeys:l}},props:{selectType:{type:Number,default:0,required:!1},checkStrictly:{type:Boolean,default:!1},isSingleSelect:{type:Boolean,default:!1},defaultSelectedKeys:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},defaultExpandKeys:{type:Array,default(){return[]}},defaultProps:{type:Object,default(){return{id:"id",label:"label",children:"children"}}}}};function Xt(e,r,n,t,s,i){const l=ge("nd-select-member-tree-node");return y(),Br(l,{data:n.data,"expand-keys":t.expandKeys,"select-keys":t.selectKeys,"check-strictly":n.checkStrictly},null,8,["data","expand-keys","select-keys","check-strictly"])}const Wt=Ye(Gt,[["render",Xt],["__scopeId","data-v-51dd3687"],["__file","ndSelectMemberTree.vue"]]);var Qe={exports:{}},Kr=function(r,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return r.apply(n,s)}},Yt=Kr,$e=Object.prototype.toString,er=function(e){return function(r){var n=$e.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function ee(e){return e=e.toLowerCase(),function(n){return er(n)===e}}function rr(e){return Array.isArray(e)}function Ee(e){return typeof e>"u"}function Ht(e){return e!==null&&!Ee(e)&&e.constructor!==null&&!Ee(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var Jr=ee("ArrayBuffer");function Qt(e){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&Jr(e.buffer),r}function $t(e){return typeof e=="string"}function en(e){return typeof e=="number"}function Fr(e){return e!==null&&typeof e=="object"}function be(e){if(er(e)!=="object")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}var rn=ee("Date"),tn=ee("File"),nn=ee("Blob"),sn=ee("FileList");function tr(e){return $e.call(e)==="[object Function]"}function on(e){return Fr(e)&&tr(e.pipe)}function an(e){var r="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||$e.call(e)===r||tr(e.toString)&&e.toString()===r)}var ln=ee("URLSearchParams");function cn(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function un(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function nr(e,r){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),rr(e))for(var n=0,t=e.length;n<t;n++)r.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.call(null,e[s],s,e)}function We(){var e={};function r(s,i){be(e[i])&&be(s)?e[i]=We(e[i],s):be(s)?e[i]=We({},s):rr(s)?e[i]=s.slice():e[i]=s}for(var n=0,t=arguments.length;n<t;n++)nr(arguments[n],r);return e}function dn(e,r,n){return nr(r,function(s,i){n&&typeof s=="function"?e[i]=Yt(s,n):e[i]=s}),e}function fn(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function hn(e,r,n,t){e.prototype=Object.create(r.prototype,t),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function pn(e,r,n){var t,s,i,l={};r=r||{};do{for(t=Object.getOwnPropertyNames(e),s=t.length;s-- >0;)i=t[s],l[i]||(r[i]=e[i],l[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r}function vn(e,r,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;var t=e.indexOf(r,n);return t!==-1&&t===n}function yn(e){if(!e)return null;var r=e.length;if(Ee(r))return null;for(var n=new Array(r);r-- >0;)n[r]=e[r];return n}var bn=function(e){return function(r){return e&&r instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),O={isArray:rr,isArrayBuffer:Jr,isBuffer:Ht,isFormData:an,isArrayBufferView:Qt,isString:$t,isNumber:en,isObject:Fr,isPlainObject:be,isUndefined:Ee,isDate:rn,isFile:tn,isBlob:nn,isFunction:tr,isStream:on,isURLSearchParams:ln,isStandardBrowserEnv:un,forEach:nr,merge:We,extend:dn,trim:cn,stripBOM:fn,inherits:hn,toFlatObject:pn,kindOf:er,kindOfTest:ee,endsWith:vn,toArray:yn,isTypedArray:bn,isFileList:sn},ne=O;function pr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var zr=function(r,n,t){if(!n)return r;var s;if(t)s=t(n);else if(ne.isURLSearchParams(n))s=n.toString();else{var i=[];ne.forEach(n,function(a,h){a===null||typeof a>"u"||(ne.isArray(a)?h=h+"[]":a=[a],ne.forEach(a,function(p){ne.isDate(p)?p=p.toISOString():ne.isObject(p)&&(p=JSON.stringify(p)),i.push(pr(h)+"="+pr(p))}))}),s=i.join("&")}if(s){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},kn=O;function xe(){this.handlers=[]}xe.prototype.use=function(r,n,t){return this.handlers.push({fulfilled:r,rejected:n,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1};xe.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};xe.prototype.forEach=function(r){kn.forEach(this.handlers,function(t){t!==null&&r(t)})};var Sn=xe,gn=O,En=function(r,n){gn.forEach(r,function(s,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(r[n]=s,delete r[i])})},Zr=O;function oe(e,r,n,t,s){Error.call(this),this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),t&&(this.request=t),s&&(this.response=s)}Zr.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Vr=oe.prototype,Gr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){Gr[e]={value:e}});Object.defineProperties(oe,Gr);Object.defineProperty(Vr,"isAxiosError",{value:!0});oe.from=function(e,r,n,t,s,i){var l=Object.create(Vr);return Zr.toFlatObject(e,l,function(a){return a!==Error.prototype}),oe.call(l,e.message,r,n,t,s),l.name=e.name,i&&Object.assign(l,i),l};var le=oe,Xr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K=O;function xn(e,r){r=r||new FormData;var n=[];function t(i){return i===null?"":K.isDate(i)?i.toISOString():K.isArrayBuffer(i)||K.isTypedArray(i)?typeof Blob=="function"?new Blob([i]):Buffer.from(i):i}function s(i,l){if(K.isPlainObject(i)||K.isArray(i)){if(n.indexOf(i)!==-1)throw Error("Circular reference detected in "+l);n.push(i),K.forEach(i,function(a,h){if(!K.isUndefined(a)){var E=l?l+"."+h:h,p;if(a&&!l&&typeof a=="object"){if(K.endsWith(h,"{}"))a=JSON.stringify(a);else if(K.endsWith(h,"[]")&&(p=K.toArray(a))){p.forEach(function(d){!K.isUndefined(d)&&r.append(E,t(d))});return}}s(a,E)}}),n.pop()}else r.append(l,t(i))}return s(e),r}var Wr=xn,De,vr;function Cn(){if(vr)return De;vr=1;var e=le;return De=function(n,t,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):t(new e("Request failed with status code "+s.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},De}var Ue,yr;function Rn(){if(yr)return Ue;yr=1;var e=O;return Ue=e.isStandardBrowserEnv()?function(){return{write:function(t,s,i,l,o,a){var h=[];h.push(t+"="+encodeURIComponent(s)),e.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),e.isString(l)&&h.push("path="+l),e.isString(o)&&h.push("domain="+o),a===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(t){var s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ue}var wn=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},An=function(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r},mn=wn,_n=An,Yr=function(r,n){return r&&!mn(n)?_n(r,n):n},Ie,br;function Tn(){if(br)return Ie;br=1;var e=O,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Ie=function(t){var s={},i,l,o;return t&&e.forEach(t.split(`
`),function(h){if(o=h.indexOf(":"),i=e.trim(h.substr(0,o)).toLowerCase(),l=e.trim(h.substr(o+1)),i){if(s[i]&&r.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([l]):s[i]=s[i]?s[i]+", "+l:l}}),s},Ie}var Pe,kr;function Nn(){if(kr)return Pe;kr=1;var e=O;return Pe=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),s;function i(l){var o=l;return n&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=i(window.location.href),function(o){var a=e.isString(o)?i(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}(),Pe}var je,Sr;function Ce(){if(Sr)return je;Sr=1;var e=le,r=O;function n(t){e.call(this,t??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return r.inherits(n,e,{__CANCEL__:!0}),je=n,je}var Me,gr;function On(){return gr||(gr=1,Me=function(r){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return n&&n[1]||""}),Me}var Be,Er;function xr(){if(Er)return Be;Er=1;var e=O,r=Cn(),n=Rn(),t=zr,s=Yr,i=Tn(),l=Nn(),o=Xr,a=le,h=Ce(),E=On();return Be=function(d){return new Promise(function(J,A){var P=d.data,B=d.headers,F=d.responseType,j;function z(){d.cancelToken&&d.cancelToken.unsubscribe(j),d.signal&&d.signal.removeEventListener("abort",j)}e.isFormData(P)&&e.isStandardBrowserEnv()&&delete B["Content-Type"];var S=new XMLHttpRequest;if(d.auth){var re=d.auth.username||"",v=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";B.Authorization="Basic "+btoa(re+":"+v)}var g=s(d.baseURL,d.url);S.open(d.method.toUpperCase(),t(g,d.params,d.paramsSerializer),!0),S.timeout=d.timeout;function m(){if(S){var U="getAllResponseHeaders"in S?i(S.getAllResponseHeaders()):null,G=!F||F==="text"||F==="json"?S.responseText:S.response,Z={data:G,status:S.status,statusText:S.statusText,headers:U,config:d,request:S};r(function(ie){J(ie),z()},function(ie){A(ie),z()},Z),S=null}}if("onloadend"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(m)},S.onabort=function(){S&&(A(new a("Request aborted",a.ECONNABORTED,d,S)),S=null)},S.onerror=function(){A(new a("Network Error",a.ERR_NETWORK,d,S,S)),S=null},S.ontimeout=function(){var G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",Z=d.transitional||o;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),A(new a(G,Z.clarifyTimeoutError?a.ETIMEDOUT:a.ECONNABORTED,d,S)),S=null},e.isStandardBrowserEnv()){var _=(d.withCredentials||l(g))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;_&&(B[d.xsrfHeaderName]=_)}"setRequestHeader"in S&&e.forEach(B,function(G,Z){typeof P>"u"&&Z.toLowerCase()==="content-type"?delete B[Z]:S.setRequestHeader(Z,G)}),e.isUndefined(d.withCredentials)||(S.withCredentials=!!d.withCredentials),F&&F!=="json"&&(S.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&S.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(j=function(U){S&&(A(!U||U&&U.type?new h:U),S.abort(),S=null)},d.cancelToken&&d.cancelToken.subscribe(j),d.signal&&(d.signal.aborted?j():d.signal.addEventListener("abort",j))),P||(P=null);var q=E(g);if(q&&["http","https","file"].indexOf(q)===-1){A(new a("Unsupported protocol "+q+":",a.ERR_BAD_REQUEST,d));return}S.send(P)})},Be}var qe,Cr;function Ln(){return Cr||(Cr=1,qe=null),qe}var N=O,Rr=En,wr=le,Dn=Xr,Un=Wr,In={"Content-Type":"application/x-www-form-urlencoded"};function Ar(e,r){!N.isUndefined(e)&&N.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function Pn(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=xr()),e}function jn(e,r,n){if(N.isString(e))try{return(r||JSON.parse)(e),N.trim(e)}catch(t){if(t.name!=="SyntaxError")throw t}return(n||JSON.stringify)(e)}var Re={transitional:Dn,adapter:Pn(),transformRequest:[function(r,n){if(Rr(n,"Accept"),Rr(n,"Content-Type"),N.isFormData(r)||N.isArrayBuffer(r)||N.isBuffer(r)||N.isStream(r)||N.isFile(r)||N.isBlob(r))return r;if(N.isArrayBufferView(r))return r.buffer;if(N.isURLSearchParams(r))return Ar(n,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var t=N.isObject(r),s=n&&n["Content-Type"],i;if((i=N.isFileList(r))||t&&s==="multipart/form-data"){var l=this.env&&this.env.FormData;return Un(i?{"files[]":r}:r,l&&new l)}else if(t||s==="application/json")return Ar(n,"application/json"),jn(r);return r}],transformResponse:[function(r){var n=this.transitional||Re.transitional,t=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,i=!t&&this.responseType==="json";if(i||s&&N.isString(r)&&r.length)try{return JSON.parse(r)}catch(l){if(i)throw l.name==="SyntaxError"?wr.from(l,wr.ERR_BAD_RESPONSE,this,null,this.response):l}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};N.forEach(["delete","get","head"],function(r){Re.headers[r]={}});N.forEach(["post","put","patch"],function(r){Re.headers[r]=N.merge(In)});var sr=Re,Mn=O,Bn=sr,qn=function(r,n,t){var s=this||Bn;return Mn.forEach(t,function(l){r=l.call(s,r,n)}),r},Ke,mr;function Hr(){return mr||(mr=1,Ke=function(r){return!!(r&&r.__CANCEL__)}),Ke}var _r=O,Je=qn,Kn=Hr(),Jn=sr,Fn=Ce();function Fe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fn}var zn=function(r){Fe(r),r.headers=r.headers||{},r.data=Je.call(r,r.data,r.headers,r.transformRequest),r.headers=_r.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),_r.forEach(["delete","get","head","post","put","patch","common"],function(s){delete r.headers[s]});var n=r.adapter||Jn.adapter;return n(r).then(function(s){return Fe(r),s.data=Je.call(r,s.data,s.headers,r.transformResponse),s},function(s){return Kn(s)||(Fe(r),s&&s.response&&(s.response.data=Je.call(r,s.response.data,s.response.headers,r.transformResponse))),Promise.reject(s)})},I=O,Qr=function(r,n){n=n||{};var t={};function s(E,p){return I.isPlainObject(E)&&I.isPlainObject(p)?I.merge(E,p):I.isPlainObject(p)?I.merge({},p):I.isArray(p)?p.slice():p}function i(E){if(I.isUndefined(n[E])){if(!I.isUndefined(r[E]))return s(void 0,r[E])}else return s(r[E],n[E])}function l(E){if(!I.isUndefined(n[E]))return s(void 0,n[E])}function o(E){if(I.isUndefined(n[E])){if(!I.isUndefined(r[E]))return s(void 0,r[E])}else return s(void 0,n[E])}function a(E){if(E in n)return s(r[E],n[E]);if(E in r)return s(void 0,r[E])}var h={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return I.forEach(Object.keys(r).concat(Object.keys(n)),function(p){var d=h[p]||i,x=d(p);I.isUndefined(x)&&d!==a||(t[p]=x)}),t},ze,Tr;function $r(){return Tr||(Tr=1,ze={version:"0.27.2"}),ze}var Zn=$r().version,H=le,or={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){or[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}});var Nr={};or.transitional=function(r,n,t){function s(i,l){return"[Axios v"+Zn+"] Transitional option '"+i+"'"+l+(t?". "+t:"")}return function(i,l,o){if(r===!1)throw new H(s(l," has been removed"+(n?" in "+n:"")),H.ERR_DEPRECATED);return n&&!Nr[l]&&(Nr[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(i,l,o):!0}};function Vn(e,r,n){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);for(var t=Object.keys(e),s=t.length;s-- >0;){var i=t[s],l=r[i];if(l){var o=e[i],a=o===void 0||l(o,i,e);if(a!==!0)throw new H("option "+i+" must be "+a,H.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new H("Unknown option "+i,H.ERR_BAD_OPTION)}}var Gn={assertOptions:Vn,validators:or},et=O,Xn=zr,Or=Sn,Lr=zn,we=Qr,Wn=Yr,rt=Gn,se=rt.validators;function ae(e){this.defaults=e,this.interceptors={request:new Or,response:new Or}}ae.prototype.request=function(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=we(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var t=n.transitional;t!==void 0&&rt.assertOptions(t,{silentJSONParsing:se.transitional(se.boolean),forcedJSONParsing:se.transitional(se.boolean),clarifyTimeoutError:se.transitional(se.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(i=i&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});var l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});var o;if(!i){var a=[Lr,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(l),o=Promise.resolve(n);a.length;)o=o.then(a.shift(),a.shift());return o}for(var h=n;s.length;){var E=s.shift(),p=s.shift();try{h=E(h)}catch(d){p(d);break}}try{o=Lr(h)}catch(d){return Promise.reject(d)}for(;l.length;)o=o.then(l.shift(),l.shift());return o};ae.prototype.getUri=function(r){r=we(this.defaults,r);var n=Wn(r.baseURL,r.url);return Xn(n,r.params,r.paramsSerializer)};et.forEach(["delete","get","head","options"],function(r){ae.prototype[r]=function(n,t){return this.request(we(t||{},{method:r,url:n,data:(t||{}).data}))}});et.forEach(["post","put","patch"],function(r){function n(t){return function(i,l,o){return this.request(we(o||{},{method:r,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}ae.prototype[r]=n(),ae.prototype[r+"Form"]=n(!0)});var Yn=ae,Ze,Dr;function Hn(){if(Dr)return Ze;Dr=1;var e=Ce();function r(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(l){t=l});var s=this;this.promise.then(function(i){if(s._listeners){var l,o=s._listeners.length;for(l=0;l<o;l++)s._listeners[l](i);s._listeners=null}}),this.promise.then=function(i){var l,o=new Promise(function(a){s.subscribe(a),l=a}).then(i);return o.cancel=function(){s.unsubscribe(l)},o},n(function(l){s.reason||(s.reason=new e(l),t(s.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}},r.source=function(){var t,s=new r(function(l){t=l});return{token:s,cancel:t}},Ze=r,Ze}var Ve,Ur;function Qn(){return Ur||(Ur=1,Ve=function(r){return function(t){return r.apply(null,t)}}),Ve}var Ge,Ir;function $n(){if(Ir)return Ge;Ir=1;var e=O;return Ge=function(n){return e.isObject(n)&&n.isAxiosError===!0},Ge}var Pr=O,es=Kr,ke=Yn,rs=Qr,ts=sr;function tt(e){var r=new ke(e),n=es(ke.prototype.request,r);return Pr.extend(n,ke.prototype,r),Pr.extend(n,r),n.create=function(s){return tt(rs(e,s))},n}var D=tt(ts);D.Axios=ke;D.CanceledError=Ce();D.CancelToken=Hn();D.isCancel=Hr();D.VERSION=$r().version;D.toFormData=Wr;D.AxiosError=le;D.Cancel=D.CanceledError;D.all=function(r){return Promise.all(r)};D.spread=Qn();D.isAxiosError=$n();Qe.exports=D;Qe.exports.default=D;var ns=Qe.exports,ss=ns;const nt=yt(ss),Ae=nt.create({timeout:5e3});Ae.interceptors.request.use(e=>e);Ae.interceptors.response.use(e=>e.data,e=>e);const jr=(e,r,n={})=>new Promise((t,s)=>{Ae.request({headers:n,url:e,data:r,method:"post"}).then(i=>{t(i)}).catch(i=>{s(i)})}),os=(e,r,n={})=>new Promise((t,s)=>{Ae.request({url:e,params:r,headers:n,method:"get"}).then(i=>{t(i)}).catch(i=>{s(i)})}),as=nt.create({});as.interceptors.request.use(e=>e,e=>e);const ls={name:"ndSelectMember",components:{ndSelectMemberTree:Wt,ElPopover:bt},emits:["close","update:visible","sure"],setup(e,{emit:r}){const n=()=>{d.$nextTick(()=>{x.value.setCheckedKeys([])}),w.value=[]},t=async()=>{const c={};if(A.value.useDeptIds&&(c[A.value.deptIds]=[]),A.value.useUserIds&&(c[A.value.userIds]=[]),A.value.useRoleIds&&(c[A.value.roleIds]=[]),w.value.forEach(R=>{R.type===2?c[A.value.deptIds].push(R.id):c[A.value.userIds].push(R.id)}),S.value){if(c[A.value.roleIds]=[],ve.value.forEach(R=>{R.checked&&c[A.value.roleIds].push(R.roleId)}),!c[A.value.roleIds].length){await ye({message:"请选择角色",type:"warning"});return}if(console.log(c[A.value.userIds]),!c[A.value.userIds].length){await ye({message:"请选择成员",type:"warning"});return}}if(e.isSavaOperation){r("save",w.value),r("update:visible",!1);return}const f=Object.assign(c,U.value);console.log("待传输数据",f),(await jr(q.value,f,g.value)).code===0&&(r("save",c),r("update:visible",!1)),console.log("信息列表",w.value)},s=()=>{r("update:visible",!1)},i=()=>{const c=[];return ve.value.forEach(f=>{f.checked&&c.push(f.roleName)}),c.length?c.join(","):"请选择权限"},l=T(!1),o=()=>{w.value=w.value.filter(u=>u.name!=="未分组成员");const c=[],f=[];w.value.forEach(u=>{u.type===2?f.push(u):u.type===1&&c.push(u)}),w.value=f.concat(c)},a=(c,f)=>{c.forEach(u=>{u.type===1&&u.parentDeptId===F.value&&!u.noDeptUserFlag&&(u.disabled=1,u.type===1&&f.push(u)),u.children&&u.children.length&&a(u.children,f)})},h=(c,f)=>{c.forEach(u=>{u.type===1&&u.id===f.id&&(u.disabled=1),u.children&&u.children.length&&h(u.children,f)})},E=c=>{c.forEach(f=>{f.type===2&&(f.disabled=1),f.children&&f.children.length&&E(f.children)})},p=(c,f)=>{c.forEach(u=>{u.type===1&&u.id===f&&(u.disabled=2),u.children&&u.children.length&&p(u.children,f)})},{proxy:d}=qr(),x=T(null),{isExpandedKeysRoot:J,saveProperties:A,roleListAll:P,disabledCheckedList:B,deptId:F,from:j,singleSelectUser:z,isSelectRole:S,treeUrl:re,treeUrlOtherParams:v,headers:g,checkedListUrl:m,checkedListUrlOtherParams:_,saveUrl:q,saveUrlOtherParams:U,title:G,defaultChooseList:Z,isDefineDefaultChooseList:me,selectType:ie}=Se(e),ar=c=>c.id+""+c.type,st=async()=>{const c=Object.assign({},v.value),f=await os(re.value,c,g.value);if(f.code===0){if(xt(f.data)?L.value=f.data.concat([]):L.value=[f.data],X.value=L.value.concat([]),J.value&&L.value.length&&(_e.value.push(ar(L.value[0])),await d.$nextTick(()=>{x.value.setExpandKeys(_e.value)})),j.value===1){const u=[];a(L.value,u),a(X.value,u),console.log(u),u.forEach(R=>{h(L.value,R),h(X.value,R)}),B.value.forEach(R=>{p(L.value,R.userId),p(X.value,R.userId)})}else if(j.value===2){const u=[];a(L.value,u),a(X.value,u),u.forEach(R=>{h(L.value,R),h(X.value,R)}),B.value.forEach(R=>{p(L.value,R.userId),p(X.value,R.userId)})}}else await ye({message:f.msg,type:"warning"})},ot=()=>{const c={};return w.value=w.value.reduce(function(f,u){return c[u.id+""+u.type]||(c[u.id+""+u.type]=f.push(u)),f},[]),w.value},at=async()=>{const c=await jr(m.value,_.value,g.value);c&&c.code===0?(w.value=c.data.deptList.concat(c.data.userList),console.log("chooseList--",w.value)):ye({message:c.msg,type:"warning"})},lt=c=>{r("nodeClick",c)},it=c=>{const f=JSON.parse(JSON.stringify(c));d.$nextTick(()=>{x.value.updateKeys(f,"remove")}),o()},V=T(""),pe=T(1),ct=()=>{document.querySelector(".searchByname-box").scrollTop=0,pe.value=0,ce.value=[],lr(X.value,ce.value);const c={},f=[];ce.value.forEach(u=>{if(Object.keys(c).includes(u.id+""+u.type)){const R=f.findIndex(ur=>ur.id+""+ur.type==u.id+""+u.type);f[R].deptPath=f[R].deptPath+"，"+u.deptPath}else c[u.id+""+u.type]=JSON.parse(JSON.stringify(u)),f.push(JSON.parse(JSON.stringify(u)))}),ce.value=f.concat([]),V.value||(pe.value=1)},lr=(c,f)=>{c.forEach(u=>{z.value?!u.disabled&&u.type===1&&V.value&&(u.name.includes(V.value)||u.position&&u.position.includes(V.value))&&f.push(u):!u.disabled&&V.value&&(u.name.includes(V.value)||u.position&&u.position.includes(V.value))&&f.push(u),u.children&&u.children.length&&lr(u.children,f)})},ut=()=>{document.querySelector(".searchByname-box").scrollTop=0,V.value=null,pe.value=1},L=T([]),te=T([]);Q.on("selectKeys",c=>{te.value=c.concat([])});const _e=T([]),w=T([]),X=T([]),ve=T([]),ce=T([]);ve.value=JSON.parse(JSON.stringify(P.value));const Te=c=>w.value.findIndex(f=>f.id+""+f.type==c.id+""+c.type),ue=T([]),Ne=c=>{c.forEach(f=>{f.type===1&&!f.disabled&&ue.value.push(f),f.children&&f.children.length&&Ne(f.children)})},dt=c=>{c.forEach(f=>{te.value.push(f.id+""+f.type)}),d.$nextTick(()=>{x.value.setCheckedKeys(te.value)})},ft=c=>!!x.value.selectKeys.filter(u=>u===ar(c)).length;Mr(async()=>{await st(),me.value?(w.value=Z.value.concat([]),o()):await at(),z.value&&(console.log(E),B.value.forEach(c=>{p(L.value,c.userId)})),dt(w.value)});const ht=(c,f)=>{if(console.log("accept check events",c),z.value){w.value=[c];return}else if(ie.value===1)if(f)if(c.type===1){const u=Te(c);w.value.splice(u,1)}else ue.value=[],c.children&&Ne(c.children),ue.value.forEach(u=>{const R=Te(u);R>-1&&w.value.splice(R,1)});else c.type===1?w.value.push(c):(ue.value=[],c.children&&Ne(c.children),w.value=w.value.concat(ue.value));else{const u=JSON.parse(JSON.stringify(c)),R=Te(u);R>-1?w.value.splice(R,1):w.value.push(u),console.log(c,w.value)}ot(),o()},Oe=T({}),ir=(c,f)=>{c.forEach(u=>{u.id+""+u.type==f.id+""+f.type&&(Oe.value=u),u.children&&u.children.length&&ir(u.children,f)})},pt=c=>{c.type===1&&cr(c)},cr=c=>{if(c.type===2){ir(L.value,c),console.log("获取子节点内容--",Oe.value);let f;te.value.includes(c.id+""+c.type)?f=!0:f=!1,x.value.updateKeys(Oe.value,f)}else{let f;te.value.includes(c.id+""+c.type)?f=!0:f=!1,x.value.updateKeys(c,f)}};return{highText:Rt,rowClick:pt,clearAll:n,expandedKeys:_e,title:G,showType:pe,getRoleNameList:i,close:s,sure:t,showSelectRole:l,removeMember:it,memberTree:x,check:cr,hasChooseCurrentItem:ft,clear:ut,searchListLocal:ce,keyword:V,checkBtn:ht,nodeClick:lt,treeList:L,chooseList:w,selectedKeys:te,inputKeyWord:ct,roleList:ve}},props:wt},is={class:"bee_selectMemberTreeContainer"},cs={class:"tc-cmnTit"},us={class:"tc-cmnCnt clearfix",style:{padding:"0px",width:"711px"}},ds={class:"person-box"},fs={class:"search-person-box"},hs={class:"person-structure-box scroll-demo",style:{display:"block",overflow:"auto"}},ps={class:"searchByname-box scroll-demo",style:{overflow:"auto"}},vs=["onClick"],ys=["onClick"],bs=["onClick"],ks={key:2,class:"checkbox node-checkbox-no",style:{cursor:"no-drop"}},Ss={key:3,class:"checkbox node-checkbox-s-no",style:{cursor:"no-drop"}},gs=["onClick"],Es=["onClick"],xs={key:6,class:"node-radiobox node-radiobox-no",style:{cursor:"no-drop"}},Cs={key:7,class:"node-radiobox node-radiobox-s-no",style:{cursor:"no-drop"}},Rs={class:"name"},ws={key:0,class:"person-img"},As=["src"],ms={key:1,src:He},_s={key:1,class:"ico-depart"},Ts={class:"content"},Ns=["innerHTML","title"],Os=["title"],Ls={class:"noResult"},Ds={class:"selected-person"},Us={key:0,class:"mark"},Is={key:1,class:"mark"},Ps={class:"scroll-demo",style:{overflow:"auto",clear:"both"}},js={key:0,class:"person-img"},Ms=["src"],Bs={key:1,src:He},qs={key:1,class:"ico-depart"},Ks=["title"],Js=["onClick"],Fs={class:"tc-btn-box",style:{margin:"0px"}},zs={key:0},Zs=C("span",null,"请设置权限：",-1),Vs={class:"dropDown w170"},Gs=["title"],Xs={class:"dropDown-content",style:{padding:"5px 0px",height:"120px",overflow:"auto"}},Ws=["onClick"],Ys=["title"],Hs={key:1,class:"btn-cancel",style:{cursor:"no-drop"}};function Qs(e,r,n,t,s,i){const l=ge("nd-select-member-tree"),o=ge("el-popover");return y(),Br(Et,{to:"body"},[Y(C("div",is,[C("div",{class:"tc-box tc-add-person tc-add-person-2",onOnmousedown:r[7]||(r[7]=(...a)=>e.moveBegin&&e.moveBegin(...a))},[C("div",cs,[kt(W(t.title),1),C("i",{class:"tc-close",onClick:r[0]||(r[0]=(...a)=>t.close&&t.close(...a))},"×")]),C("div",us,[C("div",ds,[C("div",fs,[Y(C("input",{type:"text",placeholder:"请输入姓名、部门或职务","onUpdate:modelValue":r[1]||(r[1]=a=>t.keyword=a),onInput:r[2]||(r[2]=(...a)=>t.inputKeyWord&&t.inputKeyWord(...a)),autocomplete:"none","aria-autocomplete":"none"},null,544),[[St,t.keyword,void 0,{trim:!0}]]),Y(C("i",{class:"clear",onClick:r[3]||(r[3]=(...a)=>t.clear&&t.clear(...a))},null,512),[[$,t.keyword]])]),Y(C("div",hs,[Xe(l,{"is-single-select":e.singleSelectUser,data:t.treeList,onNodeClick:t.nodeClick,onCheck:t.checkBtn,"default-selected-keys":t.selectedKeys,ref:"memberTree","default-expand-keys":t.expandedKeys,checkStrictly:e.checkStrictly,"select-type":e.selectType},null,8,["is-single-select","data","onNodeClick","onCheck","default-selected-keys","default-expand-keys","checkStrictly","select-type"])],512),[[$,t.showType===1]]),b(" 按照姓名模糊搜索结果 "),Y(C("div",ps,[Y(C("ul",null,[(y(!0),k(fe,null,he(t.searchListLocal,a=>(y(),k("li",{key:a.id+""+a.type,onClick:h=>t.rowClick(a)},[b("todo 复选框"),t.hasChooseCurrentItem(a)&&!a.disabled&&!e.singleSelectUser?(y(),k("i",{key:0,class:"checkbox default",onClick:M(h=>t.check(a,!0),["stop"])},null,8,ys)):b("v-if",!0),!t.hasChooseCurrentItem(a)&&!a.disabled&&!e.singleSelectUser?(y(),k("i",{key:1,class:"checkbox",onClick:M(h=>t.check(a,!1),["stop"])},null,8,bs)):b("v-if",!0),b("disabled:1 禁用并且不选择 2 禁用并且选择"),a.disabled==1&&!e.singleSelectUser?(y(),k("i",ks)):b("v-if",!0),a.disabled==2&&!e.singleSelectUser?(y(),k("i",Ss)):b("v-if",!0),b("todo 单选框"),t.hasChooseCurrentItem(a)&&!a.disabled&&e.singleSelectUser?(y(),k("i",{key:4,class:"node-radiobox node-radiobox-s",onClick:M(h=>t.check(a,!0),["stop"])},null,8,gs)):b("v-if",!0),!t.hasChooseCurrentItem(a)&&!a.disabled&&e.singleSelectUser?(y(),k("i",{key:5,class:"node-radiobox",onClick:M(h=>t.check(a,!1),["stop"])},null,8,Es)):b("v-if",!0),b("单选框禁用"),b("disabled:1 禁用并且不选择 2 禁用并且选择"),a.disabled==1&&e.singleSelectUser?(y(),k("i",xs)):b("v-if",!0),a.disabled==2&&e.singleSelectUser?(y(),k("i",Cs)):b("v-if",!0),b("todo 内容"),C("div",Rs,[a.type===1?(y(),k("i",ws,[a.avatar?(y(),k("img",{key:0,src:a.ossUrl+"/"+a.avatar},null,8,As)):(y(),k("img",ms))])):b("v-if",!0),a.type===2?(y(),k("i",_s)):b("v-if",!0),C("div",Ts,[C("p",{innerHTML:t.highText(a.name+(a.type==1?"（"+a.position+"）":""),t.keyword,"em","key-word"),title:a.name+(a.type==1?"（"+a.position+"）":""),class:"userName"},null,8,Ns),C("p",{class:"deptName",title:a.deptPath.split("，").join(`
`)},W(a.deptPath),9,Os)])])],8,vs))),128))],512),[[$,t.searchListLocal.length]]),Y(C("div",Ls,"没有找到相关的结果",512),[[$,!t.searchListLocal.length]])],512),[[$,t.showType===0]])]),C("div",Ds,[e.selectType==1||e.selectType==2?(y(),k("div",Us,"已选择了"+W(t.chooseList.length)+"个成员",1)):(y(),k("div",Is,"已选择了"+W(t.chooseList.length)+"个部门、成员",1)),C("div",{class:"clearAll",onClick:r[4]||(r[4]=(...a)=>t.clearAll&&t.clearAll(...a))},"全部清除"),C("ul",Ps,[(y(!0),k(fe,null,he(t.chooseList,(a,h)=>(y(),k("li",{key:a.id+""+a.type},[a.type===1?(y(),k("i",js,[a.avatar?(y(),k("img",{key:0,src:a.avatar},null,8,Ms)):(y(),k("img",Bs))])):b("v-if",!0),a.type===2?(y(),k("i",qs)):b("v-if",!0),C("span",{title:a.name},W(a.name),9,Ks),C("i",{class:"del",onClick:E=>t.removeMember(a,h)},null,8,Js)]))),128))])])]),C("div",Fs,[C("div",null,[e.isSelectRole?(y(),k("label",zs,[Zs,C("div",Vs,[Xe(o,{trigger:"click","hide-after":0,placement:"top"},{reference:hr(()=>[C("div",{class:"value",title:t.getRoleNameList(),style:{width:"170px"}},W(t.getRoleNameList()),9,Gs)]),default:hr(()=>[C("div",Xs,[(y(!0),k(fe,null,he(t.roleList,(a,h)=>(y(),k("p",{key:h,onClick:M(E=>a.checked=!a.checked,["stop"])},[C("i",{class:gt(["checkbox ico-checkbox",{"ico-checkbox02-s":a.checked}])},null,2),C("span",{style:{"margin-left":"5px"},title:a.roleName},W(a.roleName),9,Ys)],8,Ws))),128))])]),_:1})])])):b("v-if",!0),e.singleSelectUser&&!t.chooseList.length?(y(),k("a",Hs,"确定")):(y(),k("a",{key:2,class:"btn-sure",onClick:r[5]||(r[5]=(...a)=>t.sure&&t.sure(...a))},"确定")),C("a",{class:"btn-cancel",onClick:r[6]||(r[6]=(...a)=>t.close&&t.close(...a))},"取消")])])],32)],512),[[$,e.visible]])])}const ro=Ye(ls,[["render",Qs],["__file","ndSelectMember.vue"]]);export{ro as n};
